title: LiveScript 1.2.0 released!
date:  31 July 2013
author: <a href="https://twitter.com/gkzahariev" class="author">George Zahariev</a>
-----

<p>LiveScript is a language which compiles to JavaScript. It has a straightforward mapping to JavaScript and allows you to write expressive code devoid of repetitive boilerplate. While LiveScript adds many features to assist in functional style programming, it also has many improvements for object oriented and imperative programming.

<p>For more information, check out the <a href="http://livescript.net">LiveScript site</a>.

<h3>1.2.0</h3>

<p>LiveScript 1.2.0 adds new features, removes deprecated ones, improves compilation, and fixes many bugs.

<h4>for let</h4>

<p>This is a new addition to our looping constructs, which acts just like wrapping the <code>for</code> loop body with a <code>let</code> statement. This allows you to create functions inside a loop which use the current (not final) value of loop variables.

<div class="example">
  <div class="example-ls">
<pre class="prettyprint lang-ls">
functions = for let x in [1 2 3]
  -> x
functions[0]() #=> 1
functions[1]() #=> 2
functions[2]() #=> 3
</pre>
  </div>
  <div class="example-js">
<pre class="prettyprint lang-js">
var functions, res$, i$, len$;
res$ = [];
for (i$ = 0, len$ = [1, 2, 3].length; i$ < len$; ++i$) {
  res$.push((fn$.call(this, [1, 2, 3][i$])));
}
functions = res$;
functions[0]();
functions[1]();
functions[2]();
function fn$(x){
  return function(){
    return x;
  };
}
</pre>
  </div>
</div>

<h4>JSON</h4>

<p>If you end your filename with <code>.json.ls</code>, the file will automatically be compiled to json with the <code>.json</code> extension, without having to specify that you are compiling JSON specifically using the <code>-j/--json</code> option.

<p>For example, <code>lsc -c file.json.ls</code> produces <code>file.json</code>

<h4>Hushed Functions</h4>

<p>You can currently hush functions (which means stopping them from automatically adding return statements) by adding a not <code>!</code> in front of the entire function definition. For example, <code>!-> ...</code> or <code>!(x) -> ...</code>. To make things easier, you can now simply have the <code>!</code> in front of the arrow. This allows you to add parameters to your function in the future without having to deal with moving the <code>!</code>.

<pre class="prettyprint lang-ls">
(x) !-> x
(x) !~> x
(x) !--> x
(x) !~~> x
</pre>

<h4>Better Compilation</h4>

<p>We now have improved compilation for calls on partially applied functions and the compose operator.

<p>When you call a partially applied function, if there is only one parameter left, then the compilation is optimized.

<div class="example">
  <div class="example-ls">
<pre class="prettyprint lang-ls">
2 |> pow  _, 3 |> mod _, 3 #=> 2
</pre>
  </div>
  <div class="example-js">
<pre class="prettyprint lang-js">
mod(pow(2, 3), 3);
</pre>
  </div>
</div>

<p>The compose operator no longer uses a helper function, but compiles to exactly what you would write by hand:

<div class="example">
  <div class="example-ls">
<pre class="prettyprint lang-ls">
h = f . g
</pre>
  </div>
  <div class="example-js">
<pre class="prettyprint lang-js">
var h;
h = function(){
    return f(g.apply(this, arguments));
};
</pre>
  </div>
</div>

<h4>Generated Header</h4>

<p>A comment is now added at the top of the generated JavaScript, showing which version of LiveScript the file was generated with. <code>// Generated by LiveScript 1.2.0</code>

<h4>Updated prelude.ls</h4>

<p><a href="http://preludels.com">prelude.ls</a> has received a huge update, and is now at version 1.0.3. With the new version, some changes had to be made to the <code>-d/--prelude</code> flag. The flag now only requires and imports all of prelude.ls if you are using it with the REPL. If you are compiling, it does not add the code to automatically require prelude.ls any more - you must do this yourself, using the <a href="http://preludels.com/#installation">new guidelines</a> which recommend only importing what you need.

<h4>REPL</h4>

<p>The REPL is now automatically started without printing the help information with a bare call of <code>lsc</code>. You can still print the help using the <code>-h/--help</code> option.

<p>The REPL prompt is now simply <code>ls&gt;</code>.

<pre>
$ lsc
LiveScript 1.2.0 - use 'lsc --help' for more information
ls&gt;
</pre>

<h4>Feature Removal</h4>

<p>Several deprecated features have been removed.

<p>The inexistence operator <code>!?</code> was removed because it caused inconsistencies with using the existence operator on a bang <code>!</code> call. Please use the negation of the existence operator instead - change <code>x!?</code> to <code>not x?</code>.

<p>The long concatenation operator <code>+++</code> has been replaced with <code>++</code> as it is shorter. Please use it instead - change <code>xs +++ ys</code> to <code>xs ++ ys</code>. Note that you must either doubly space as the preceding example, or not space at all: <code>xs++ys</code>. Having one space on one side of the operator, and no space on the other, not only looks terrible, but denotes use of the increment operator, eg. <code>f ++x</code> calls <code>f</code> with <code>x</code> incremented.

<p><code>undefined</code> as an alias to <code>void</code> has been removed - the alias was unnecessary. Please change <code>undefined</code> to <code>void</code>.

<p>The <code>where</code> statement has been removed. It could not be implemented in the way desired - it may come back in the future if it can be implemented properly. Please use a <code>let</code> statement or local variables instead. Please change

<pre class="prettyprint lang-ls">
x = y + z
  where y = 1,
        z = 2
</pre>

<p>to

<pre class="prettyprint lang-ls">
x = let y = 1, z = 2
  y + z
</pre>

<p>Single line cascades were removed as well. They were not that useful, and created ambiguities with the multiline cascade syntax. Change <code>obj..name = 2</code> to <code>obj <<< name: 2</code>.

<h3>Thanks</h3>

<p>Thank you to <a href="https://github.com/Nami-Doc">Nami-Doc</a> for his numerous contributions to this release! Also thanks to <a href="https://github.com/satyr">satyr</a> (through coco), <a href="https://github.com/killdream">killdream</a>, <a href="https://github.com/clkao">clkao</a>, <a href="https://github.com/viclib">viclib</a>, <a href="https://github.com/dtinth">dtinth</a>, and <a href="https://github.com/racklin">racklin</a> for their contributions to this release as well!

<p>For more information on LiveScript, check out the <a href="http://livescript.net">LiveScript site</a>.
