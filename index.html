<!doctype html>
<html>
<head>
<title>LiveScript</title>
<link rel="icon" type="image/png" href="images/icon.png">

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

<link href="bootstrap/themes/cerulean.bootstrap.min.css" rel="stylesheet">
<link href="bootstrap/css/bootstrap-responsive.css" rel="stylesheet">

<script src="bootstrap/js/bootstrap.js"></script>
<script src="bootstrap/js/bootstrap-scrollspy.js"></script>

<script src="google-code-prettify/prettify.js"></script>
<link href="google-code-prettify/prettify.css" rel="stylesheet">
<script src="https://raw.github.com/gkz/LiveScript/master/lib/lang-ls.js"></script>

<link href="styles.css" rel="stylesheet">

<script src="site.js"></script>

<script>
  if(window.location.host === "gkz.github.com") {
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-7402515-5']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  }
</script>
</head>
<body data-spy="scroll">
<div class="site container-fluid">
  <div class="row-fluid side-row">
    <div class="span2 sidebar">
      <h1><a href="#">LiveScript</a><img src="images/icon.png"></h1>
      <ul class="nav nav-list">
        <li class="active"><a href="#overview">Overview</a></li> 
        <li class="divider">
        <li><a href="#installation">Installation</a></li> 
        <li><a href="#usage">Usage</a></li> 
        <li class="divider">
        <li><a href="#reference">Reference</a></li> 
        <li><a href="#literals">Literals</a></li> 
        <li><a href="#conditions">Conditions</a></li> 
        <li><a href="#functions">Functions</a></li> 
        <li><a href="#loops">Loops and Comprehensions</a></li> 
        <li><a href="#switch">Switch</a></li> 
        <li><a href="#operators">Operators</a></li> 
        <li><a href="#assignment">Assignment</a></li> 
        <li><a href="#property-access">Property Access</a></li> 
        <li><a href="#oop">OOP</a></li> 
        <li class="divider">
        <li><a href="#more-examples">More Examples</a></li> 
        <li><a href="#speed">Speed</a></li> 
        <li class="divider">
        <li><a href="#inspiration">Inspiration</a></li> 
        <li><a href="#name">Name</a></li> 
        <li class="divider">
        <li><a href="#comparison-table">Comparison Table</a></li> 
        <li><a href="#incompatibilities">CoffeeScript Incompatibilities</a></li> 
        <li><a href="#changes">Changes from Coco</a></li> 
      </ul>
    </div>
    <div class="span4 compiler">
      <div class="compiler-box">
        <textarea placeholder="Enter LiveScript here"></textarea>
        <div class="actions">
          <button class="btn btn-primary" data-action="compile" title="Convert LiveScript to JavaScript">Compile</button>
          <button class="btn" data-action="run" title="Run compiled JavaScript">Run</button>
          <button class="btn" data-action="ast" title="Abstract Syntax Tree">AST</button>
          <button class="btn" data-action="tokens" title="Tokenization of input">Tokens</button>
          <button class="btn" data-action="lex" title="Same as tokens, but skipping rewriting">Lex</button>
        </div>
      </div>
      <div class="compiler-output">

      </div>
    </div>
  </div>
  <div class="row-fluid content-row">
    <div class="span2">&nbsp;</div>
    <div class="span6 content">
      <div id="overview" class="section">
        <a name="overview"></a>
        <h2>Overview</h2>
        <p> LiveScript is a language which compiles down to JavaScript. It is a fork of <a href="http://satyr.github.com/coco/">Coco</a> which is in turn derived from <a href="http://coffeescript.org/">CoffeeScript</a>. Like those two it has a relatively straightforward mapping to JavaScript. LiveScript aims for increased expressiveness and code beauty. LiveScript also allows for an easier transition from CoffeeScript to it in comparison to the transition from CoffeeScript to Coco.</p>
        <a href="https://github.com/gkz/LiveScript/zipball/master"><div class="btn btn-large btn-primary">Download LiveScript</div></a>
        <a href="https://github.com/gkz/LiveScript"><div class="btn btn-large">View LiveScript on GitHub</div></a>
      <p>Double-click an example to load it into the compiler.
      <h3>Some Examples</h3>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
take(n, [x, ...xs]:list) =
  | n <= 0       => []
  | !list.length => []
  | otherwise    => x & take n - 1, xs

take 2, [1 2 3 4 5] #=> [1, 2]
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var take, __slice = [].slice;
take = function(n, list){
  var x, xs;
  x = list[0], xs = __slice.call(list, 1);
  switch (false) {
  case !(n <= 0):
    return [];
  case !!list.length:
    return [];
  default:
    return [(x)].concat(take(n - 1, xs));
  }
};
take(2, [1, 2, 3, 4, 5]); //=> [1, 2]
</pre>
        </div>
      </div>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
# Unnested callbacks and paren free chaining
<- $ \h1 .on \click
alert \boom!
# Double click to load, then hit 
# Run and click the LiveScript logo
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">

$('h1').on('click', function(){
  return alert('boom!');
});


</pre>
        </div>
      </div>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
# Curried functions
times = (x, y) --> x * y
timesTwo = times 2

times 3 4  #=> 12
timesTwo 4 #=> 8
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var times, timesTwo;
times = __curry(function(x, y){
  return x * y;
});
timesTwo = times(2);
times(3, 4); //=> 12
timesTwo(4); //=> 8

function __curry(f, args){
  return f.length ? function(){
    var params = args ? args.concat() : [];
    return params.push.apply(params, arguments) < f.length ?
      __curry.call(this, f, params) : f.apply(this, params);
  } : f;
}
</pre>
        </div>
      </div>
    </div>
    <hr>
    <div id="installation" class="section">
      <a name="installation"></a>
      <h2>Installation</h2>
      <!--<p>node.js npm</p>-->
      <p>To install LiveScript on your system, download it, enter its directory, and run <code>sudo bin/slake install</code>. Using git to download: <code>git clone git://github.com/gkz/LiveScript.git && cd LiveScript && bin/slake install</code></p>
      <p>You can also use it directly in the browser by including the file in <code>LiveScript/extras/livescript.js</code> via a script tag. In fact, this is how this page operates.</p>
    </div>
    <div id="usage" class="section">
      <a name="usage"></a>
      <h2>Usage</h2>
      <p>Usage: <code>livescript [options] [files] [arguments]</code></p>
      <h3>Options</h3>
      <table class="usage-options table table-striped table-bordered">
        <tr><td>-i, --interactive</td><td>start REPL; use ^J for multiline input</td></tr>
        <tr><td>-c, --compile</td><td>compile to JavaScript and save as .js files</td></tr>
        <tr><td>-o, --output DIR</td><td>compile into the specified directory</td></tr>
        <tr><td>-w, --watch</td><td>watch scripts for changes, and repeat</td></tr>
        <tr><td>-s, --stdin</td><td>read stdin</td></tr>
        <tr><td>-e, --eval</td><td>read command line arguments as script</td></tr>
        <tr><td>-r, --require FILE+</td><td>require libraries before executing</td></tr>
        <tr><td>-b, --bare</td><td>compile without the top-level function wrapper</td></tr>
        <tr><td>-p, --print</td><td>print the result to stdout</td></tr>
        <tr><td>-l, --lex</td><td>print the tokens the lexer produces</td></tr>
        <tr><td>-t, --tokens</td><td>print the tokens the rewriter produces</td></tr>
        <tr><td>-a, --ast</td><td>print the syntax tree the parser produces</td></tr>
        <tr><td>-j, --json</td><td>print/compile as JSON</td></tr>
        <tr><td>-n, --nodejs ARGS+</td><td>pass options through to the "node" binary</td></tr>
        <tr><td>-v, --version</td><td>display version</td></tr>
        <tr><td>-h, --help</td><td>display this</td></tr>
      </table>
    </div>
    <hr>
    <div id="reference" class="section">
      <a name="reference"></a>
      <h2>Reference</h2>
      <p>LiveScript uses whitespace to delimit blocks of code. Semicolons are not required to terminate expressions if you have a newline at the end. You also don't need to use parentheses when calling functions. Basic assignment is as you would expect, <code>variable = value</code>, and there is no need for variable declarations. Almost everything is an expression. You can double click any of the examples to load the LiveScript code into the compiler to the right, or you can play around and try out your own code. Press run to execute the compiled JavaScript.</p>
    </div>
    <div id="literals" class="section">
      <a name="literal"></a>
      <h2>Literals</h2>
      <div class="example">
        <div class="example-ls">
        <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
## Numbers
42
17.34

# Underscores and letters are ignored
64_000km

# Any base can be used between 2 and 36
6r12
2r1000
16rFf

## Boolean
true
false
on
off
yes
no

## Undefined
void
undefined

## Strings
'a string'

# Strings without whitespace can be written with 
# a preceding backslash instead of quotes
\word

# Double quoted strings are interpolated
"The answer is #{2 + 2}"

# Variables can be interpolated without the braces
variable = "world"
"Hello #variable"

# Multiline strings
multiline = "string can be multiline 
            and go on and on 
            beginning whitespace is 
            ignored"
## Comments
# a single line comment starts with a #
/* multiline comments
   use this format and are preserved
   in the output unlike single line ones
*/

## Objects - braces are optional
person = 
  age:      23
  eyeColor: \green
  height:   180cm

# Dynamic keys
obj =
  "#variable": 234
  (person.eyeColor): false

# Flagging shorthand
{+debug, -live}

## Regex
//
| [!=]==?             # equality
| @@                  # arguments
| <\[(?:[\s\S]*?\]>)? # words
//g

## Lists
[1, person.age, 'French Fries']

# Commas are not needed if the item
# preceding is non callable
[1 2 3 true void \word 'hello there']

# Implicit list
myList = 
  32 + 1
  person.height
  \beautiful

# Listing using asterisks
tree =
  * * 1 
    * * 2
      * 3
    * 4
  * * 5
    * 6
    * * 7
      * 8
      * * 9
        * 10
    * 11
 
# List of strings
<[ list of words ]>

# Ranges 
[2 to 20 by 3]
[4 til 6]
[\A to \D]
</pre>
        </div>
        <div class="example-js">
        <h5>JavaScript</h5>
<pre class="prettyprint lang-js">

42;
17.34;


64000;


8;
8;
255;


true;
false;
true;
false;
true;
false;


void 8; // evaluates to undefined
void 8;


'a string';



'word';
var variable, multiline, person, 
    obj, myList, tree, __ref;
"The answer is " + (2 + 2);


variable = "world";
"Hello " + variable;


multiline = "string can be multiline and go on and on beginning whitespace is ignored";




/* multiline comments
   use this format and are preserved
   in the output unlike single line ones
*/


person = {
  age: 23,
  eyeColor: 'green',
  height: 180
};

obj = (__ref = {}, __ref[variable + ""] = 234,
  __ref[person.eyeColor] = false, __ref);

({
  debug: true,
  live: false
});

/|[!=]==?|@@|<\[(?:[\s\S]*?\]>)?/g;






[1, person.age, 'French Fries'];



[1, 2, 3, true, void 8, 'word', 'hello there'];


myList = [32 + 1, person.height, 'beautiful'];





tree = [[1, [2, 3], 4], 
  [5, 6, [7, 8, [9, 10]], 11]];












['list', 'of', 'words'];


[2, 5, 8, 11, 14, 17, 20];
[4, 5];
["A", "B", "C", "D"];
</pre>
        </div>
      </div>
    </div>
    <div id="conditions" class="section">
      <a name="conditions"></a>
      <h2>Conditions</h2>
      <div class="example">
        <div class="example-ls">
        <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
# A bit of setup
months = 12
week   = <[ sun mon tues wed thurs fri sat sun ]>
time   =
  days:  365
  hours: 8760



# Functions defined so that the example can run
doSomething = -> 'do nothing actually'
doOtherThing = -> 'do other thing'
doThirdThing = -> 'do third thing'



# As expected - 'else if' and 'else' are optional
# Meanings of == and === are reveresed from JS
if months == 12 
  doSomething()
else if time.hours === '8760'
  doOtherThing()
else 
  doThirdThing()

# 'is not' and 'isnt'
if time.days is not 366
and months isnt 13
then 'both not true!'

# Post 'if'
doSomething() if months is 12
  
# Chained comprehension
if time.hours < 500 < time.hours then doSomething()

# Formatting, 'if not', and 'in'
if \sun not in week 
then doSomething()
else doOtherThing()

# 'unless' is the same as 'if not', use of 'of'
doOtherThing() unless \hours of time

# 'that' implicitly refers to 
# the value of the condition
halfYear = that / 2 if time.days
</pre>
          </div>
          <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var months, week, time, doSomething, doOtherThing, 
    doThirdThing, that, halfYear;
months = 12;
week = ['sun', 'mon', 'tues', 'wed', 
        'thurs', 'fri', 'sat', 'sun'];
time = {
  days: 365,
  hours: 8760
};
doSomething = function(){
  return 'do nothing actually';
};
doOtherThing = function(){
  return 'do other thing';
};
doThirdThing = function(){
  return 'do third thing';
};
if (months === 12) {
  doSomething();
} else if (time.hours == '8760') {
  doOtherThing();
} else {
  doThirdThing();
}

if (time.days !== 366 && months !== 13) {
  'both not true!';
}


if (months === 12) {
  doSomething();
}
if (time.hours < 500 && 500 < time.hours) {
  doSomething();
}
if (!__in('sun', week)) {
  doSomething();
} else {
  doOtherThing();
}
if (!('hours' in time)) {
  doOtherThing();
}

if (that = time.days) {
  halfYear = that / 2;
}
function __in(x, arr){
  var i = 0, l = arr.length >>> 0;
  while (i < l) if (x === arr[i++]) return true;
  return false;
}
</pre>
          </div>
        </div>
    </div>
    <div id="functions" class="section">
      <a name="functions"></a>
      <h2>Functions</h2>
      <div class="example">
        <div class="example-ls">
        <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
# Functions auto return


# Defining functions
square = (x) -> x * x


cube(x) = x * x * x

cube 2 #=> 8

# Extended parameters
setPersonParams = (
  person # target object to set params
  person.age
  person.height
) -> person

person = setPersonParams {}, 21, 180cm 
#=> {age: 12, height: 180}

# Bang call
util! #=> 'available above declaration'

# Creates named function
function util()
  'available above declaration'

# Parentheses free chaining
$ \h1 .find \a .text! #=> LiveScript

# Implicit argument using 'it'
length = -> it.length

# Do call, calls function with no arguments
do -> 42

# Suppress auto return
returnNothing = !(param) -> param
returnNothing \hello # returns nothing

!alsoReturnsNothing(param) = param


# Curried functions
times = (x, y) --> x * y
times 2, 3 #=> 6
timesTwo = times 2
timesTwo 4 #=> 8

&alsoCurriedTimes(x, y) = x * y


# Short for (function(a){...}.call(this, b))
let $ = jQuery
  $.isArray [] #=> true

# Short for (function(){...}.call(x))
with person
  @age = 22

# With new context
dog = new
  @name = \spot
  @mutt = true
</pre>
          </div>
          <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var square, cube, setPersonParams, 
    person, length, returnNothing,
    alsoReturnsNothing, times, timesTwo, 
    alsoCurriedTimes, dog;
square = function(x){
  return x * x;
};
cube = function(x){
  return x * x * x;
};
cube(2);

setPersonParams = function(person, age, height){
  person.age = age;
  person.height = height;
  return person;
};

person = setPersonParams({}, 21, 180);



util();


function util(){
  return 'available above declaration';
}

$('h1').find('a').text();

length = function(it){
  return it.length;
};
(function(){
  return 42;
})();

returnNothing = function(param){
  param;
};
returnNothing('hello');
alsoReturnsNothing = function(param){
  param;
};
times = __curry(function(x, y){
  return x * y;
});
times(2, 3);
timesTwo = times(2);
timesTwo(4);
alsoCurriedTimes = __curry(function(x, y){
  return x * y;
});
(function($){
  $.isArray([]);
}.call(this, jQuery));

(function(){
  this.age = 22;
}.call(person));

dog = new function(){
  this.name = 'spot';
  this.mutt = true;
};


function __curry(f, args){
  return f.length ? function(){
    var params = args ? args.concat() : [];
    return params.push.apply(params, arguments) < f.length ?
      __curry.call(this, f, params) : f.apply(this, params);
  } : f;
}
</pre>
          </div>
        </div>
    </div>
    <div id="loops" class="section">
      <a name="loops"></a>
      <h2>Loops and Comprehensions</h2>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">

</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">

</pre>
        </div>
      </div>
    </div>
    <div id="switch" class="section">
      <a name="switch"></a>
      <h2>Switch</h2>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
# Auto breaks, multiple conditions
switch 6
case 1   then \hello
case 2 4 then \boom
case 6   
  'here it is'
default \something







# Switch on nothing switches on true
switch
case 5 == 6 
  \never
case false
  'also never'
case 6 / 2 is 3
  'here'

# Fallthrough
# works if last expression of case block
# is 'fallthrough'
result = switch 6
case 6 
  something = 5
  fallthrough
case 4
  'this is it'

result is 'this is it' #=> true

# Alternate syntax using | and =>
switch 'moto' 
| "some thing"     => \hello
| \explosion \bomb => \boom
| <[ the moto ? ]> => 'here it is'
| otherwise        => \something










# Implicit switch after ->, ~>, :, =
func = (param) ->
  | param.length < 5 => param.length
  | otherwise        => param.slice 3

func 'hello' #=> lo




# CoffeeScript style switches work fine too
day = \Sun
switch day
  when "Mon" then 'go to work'
  when "Tue" then 'go to a movie'
  when "Thu" then 'go drinking'
  when "Fri", "Sat"
      'go dancing'
  when "Sun" then 'drink more'
  else 'go to work'
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var something, result, func, day;
switch (6) {
case 1:
  'hello';
  break;
case 2:
case 4:
  'boom';
  break;
case 6:
  'here it is';
  break;
default:
  'something';
}
switch (false) {
case 5 !== 6:
  'never';
  break;
case !false:
  'also never';
  break;
case 6 / 2 !== 3:
  'here';
}
result = (function(){
  switch (6) {
  case 6:
    something = 5;
    // fallthrough
  case 4:
    return 'this is it';
  }
}());
result === 'this is it';

switch ('moto') {
case "some thing":
  'hello';
  break;
case 'explosion':
case 'bomb':
  'boom';
  break;
case 'the':
case 'moto':
case '?':
  'here it is';
  break;
default:
  'something';
}
func = function(param){
  switch (false) {
  case !(param.length < 5):
    return param.length;
  default:
    return param.slice(3);
  }
};
func('hello');

day = 'Sun';
switch (day) {
case "Mon":
  'go to work';
  break;
case "Tue":
  'go to a movie';
  break;
case "Thu":
  'go drinking';
  break;
case "Fri":
case "Sat":
  'go dancing';
  break;
case "Sun":
  'drink more';
  break;
default:
  'go to work';
}

</pre>
        </div>
      </div>
    </div>
    <div id="operators" class="section">
      <a name="operators"></a>
      <h2>Operators</h2>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
</pre>
        </div>
      </div>
    </div>
    <div id="assignment" class="section">
      <a name="assignment"></a>
      <h2>Assignment</h2>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
</pre>
        </div>
      </div>
    </div>
    <div id="property-access" class="section">
      <a name="property-access"></a>
      <h2>Property Access</h2>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
</pre>
        </div>
      </div>
    </div>
    <div id="oop" class="section">
      <a name="oop"></a>
      <h2>OOP</h2>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
</pre>
        </div>
      </div>
    </div>
    <hr>
    <div id="more-examples" class="section">
      <a name="more-examples"></a>
      <h2>More Examples</h2>
      <p>Basic SQL in LiveScript using list comprehensions. (note that the <code>when</code> has to come after the first <code>for</code> as it is the most inner <code>for</code>, due to the way postfix fors work.)
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
table1 =
  * id: 1
    name: \george
  * id: 2
    name: \mike
  * id: 3
    name: \donald

table2 =
  * id: 2
    age: 21
  * id: 1
    age: 20
  * id: 3
    age: 26

result = ({id:id1, name, age} for {id:id1, name} in table1 when id1 is id2 for {id:id2, age} in table2)

JSON.stringify result
#=>
# [{"id":2,"name":"mike","age":21},
# {"id":1,"name":"george","age":20},
# {"id":3,"name":"donald","age":26}]
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var table1, table2, id2, age, id1, name, result, __res, __i, __len, __ref, __j, __len1;
table1 = [
  {
    id: 1,
    name: 'george'
  }, {
    id: 2,
    name: 'mike'
  }, {
    id: 3,
    name: 'donald'
  }
];
table2 = [
  {
    id: 2,
    age: 21
  }, {
    id: 1,
    age: 20
  }, {
    id: 3,
    age: 26
  }
];
__res = [];
for (__i = 0, __len = table2.length; __i < __len; ++__i) {
  __ref = table2[__i], id2 = __ref.id, age = __ref.age;
  for (__j = 0, __len1 = table1.length; __j < __len1; ++__j) {
    __ref = table1[__j], id1 = __ref.id, name = __ref.name;
    if (id1 === id2) {
      __res.push({
        id: id1,
        name: name,
        age: age
      });
    }
  }
}
result = __res;
JSON.stringify(result);
</pre>
        </div>
      </div>
    </div>
    <div id="speed" class="section">
      <a name="speed"></a>
      <h2>Speed</h2>
      <p>Harder, better, <strong>faster</strong>, stronger.
      <h5>CoffeeScript (1.3.1)</h5>
<pre>
$ cake bench
Lex     1365 ms (24146 tokens)
Rewrite  120 ms (26886 tokens)
Parse    277 ms
Compile  189 ms (149436 chars)
total   1951 ms
</pre>
      <h5>LiveScript</h5>
<pre>
$ slake bench
Lex      241 ms (27289 tokens)
Rewrite   98 ms (32717 tokens)
Parse    266 ms (27910 nodes)
Compile  246 ms (181132 chars)
TOTAL    851 ms
</pre>
      <p>For more improvements see <a href="https://github.com/satyr/coco/wiki/improvements">Coco's list of improvements</a>.
    </div>
    <hr>
    <div id="inspiration" class="section">
      <a name="inspiration"></a>
      <h2>Inspiration</h2>
        <ul>
          <li>Functional languages in general
          <li>Haskell
          <li>F#
        </ul>
    </div>
    <div id="name" class="section">
      <a name="name"></a>
      <h2>Name</h2>
        <p>LiveScript was one of the original names for JavaScript, so it seemed fitting. 
    </div>
    <hr>
    <div id="comparison-table" class="section">
      <a name="comparison-table"></a>
      <h2>Comparison Table</h2>
      <table class="table table-bordered table-striped">
        <tr>
          <th></th><th>CoffeeScript</th><th>Coco</th><th>LiveScript</th>
        </tr>
        <tr>
          <td>Command Line</td><td>coffee</td><td>coco</td><td>livescript</td>
        </tr>
        <tr>
          <td>Build</td><td>cake</td><td>coke</td><td>slake</td>
        </tr>
        <tr>
          <td>File Extension</td><td>.coffee</td><td>.co</td><td>.ls</td>
        </tr>
        <tr>
          <td>Strict Equality</td><td>== OR is</td><td>=== OR is</td><td>== OR is</td>
        </tr>
        <tr>
          <td>Strict Inequality</td><td>!= OR isnt</td><td>!== OR is not</td><td>!= OR is not OR isnt</td>
        </tr>
        <tr>
          <td>Fuzzy Equality</td><td>N/A</td><td>==</td><td>===</td>
        </tr>
        <tr>
          <td>Power Operator</td><td>N/A</td><td>**</td><td>** OR ^</td>
        </tr>
        <tr>
          <td>Pipe Operator</td><td>N/A</td><td>=></td><td>|></td>
        </tr>
        <tr>
          <td>Bitwise &</td><td>&</td><td>&</td><td>&&&</td>
        </tr>
        <tr>
          <td>Bitwise |</td><td>|</td><td>|</td><td>|||</td>
        </tr>
        <tr>
          <td>Bitwise ^</td><td>^</td><td>^</td><td>^^^</td>
        </tr>
        <tr>
          <td>Bitwise &lt;&lt;</td><td>&lt;&lt;</td><td>&lt;&lt;</td><td>&lt;&lt;&lt;&lt;</td>
        </tr>
        <tr>
          <td>Bitwise >></td><td>>></td><td>>></td><td>>>>></td>
        </tr>
        <tr>
          <td>Bitwise >>></td><td>>>></td><td>>>></td><td>>>>>></td>
        </tr>
        <tr>
          <td>In</td><td>in</td><td>of</td><td>in</td>
        </tr>
        <tr>
          <td>Of</td><td>of</td><td>in</td><td>of</td>
        </tr>
        <tr>
          <td>Property Copy</td><td>N/A</td><td>&lt;&lt;&lt;</td><td>&lt;&lt;</td>
        </tr>
        <tr>
          <td>Property Copy</td><td>N/A</td><td>&lt;&lt;&lt;&lt;</td><td>&lt;&lt;&lt;</td>
        </tr>
        <tr>
          <td>Case</td><td>when</td><td>case</td><td>case OR |</td>
        </tr>
        <tr>
          <td>Then</td><td>then</td><td>then</td><td>then OR =></td>
        </tr>
        <tr>
          <td>List Concat</td><td>xs.concat ys</td><td>xs.concat ys</td><td>xs +++ ys</td>
        </tr>
        <tr>
          <td>Cons</td><td>[x].concat ys</td><td>[x].concat ys</td><td>x & ys</td>
        </tr>
      </table>
    </div>
    <div id="incompatibilities" class="section">
      <a name="incompatibilities"></a>
      <h2>Incompatibilities with CoffeeScript</h2>
      <p>Modified (and significantly reduced) from <a href="https://github.com/satyr/coco/wiki/incompatibilities">Coco's list of incompatibilities</a>. 
      <h3>Behavior</h3>
      <ul> 
      <li>Use <code>:=</code> to modify variables in upper scopes.
      <li><code>super</code> represents a direct reference to the parent function rather than being a call itself. Use <code>super ...</code> (just <code>super</code> in Coffee) for full delegation.
      <li>Nested comprehensions return flattened results.
      <li>Indentations after newlines are ignored within non-triple quoted strings (<code>'' / ""</code>).
      <li><code>do</code> does not specialcase function literals. Use <code>let</code> instead.
      </ul>
      <h3>Keyword</h3>
      <ul>
      <li><code>~></code> (wavy arrow) replaces => (fat arrow).
      <li><code>it / that / fallthrough / otherwise</code> are semi-reserved. They get special meanings depending on context.
      </ul>
      <h3>Grammar</h3>
      <ul>
      <li><code>()</code> is always a call; allowing <code>f ()</code>, disallowing <code>() -></code>.
      <li><code>...</code> is a prefix, as in <code>(f, ...args) -> something</code>.
      <li><code>and / or</code> and spaced <code>. / ?.</code> close implicit calls. <code>f a .g b or h c</code> means <code>f(a).g(b) || h(c)</code>.
      <li>Range syntax is <code>[x to y]</code> or <code>[x til y]</code> instead of <em>[x..y]</em> and <em>[x...y]</em>.
      <li>Block comment is <code>/* */</code> rather than <code>### ###</code>.
      <li>Heregex is <code>// //</code> rather than <code>/// ///</code>.
      <li>Bitwise operators have changed to triple themselves, eg. <code>&&&</code> instead of <em>&</em>. See <a href="#comparison-table">comparison table</a> for full details.
      <li>No implicit call against blocks starting with an implicit object. (Use <code>do</code> instead).
      </ul>
    </div>
    <div class="section" id="changes">
      <a name="changes"></a>
      <h2>Changes from Coco: Detail and Rationale</h2>
      <ul>
      <li>Renamed everything from Coco and Coke to LiveScript and Slake, and file extension from .co to .ls. Rationale for names chosen: LiveScript was the name of JavaScript before it was named JavaScript - thus it seemed like an appropriate name, also few if any other projects are named LiveScript. Slake because lake was taken and lsake sounds bad. 
      <li>Switched so that <code>==</code> compiles into <code>===</code> and the converse, and also for the negatives. Rationale: Most people would want to use the JavaScript <code>===</code> more often than <code>==</code> and less typing is better, also this makes things more similar to CoffeeScript which compiles <code>==</code> to <code>===</code> so there is less code for people to change coming from CoffeeScript. The compilation of <code>is</code> to <code>===</code> stays the same.
      <li>Switched <code>in</code> and <code>of</code> so that they are like in CoffeeScript. In goes over values, of over keys. Rationale: People have to change less of their CoffeeScript code, they're used to it, and using <code>in</code> for checking if a value is in an array just seems right, using <code>of</code> just feels weird.
      <li>All bitwise operators except <code>~</code> have changed to triple themselves and shifts have also expanded, eg. <code>&amp;</code> is now <code>&amp;&amp;&amp;</code> (see comparison table for full changes). Bitwise assign equals (eg. <code>&amp;=</code>) have been removed. Rationale: People rarely use the bitwise operators all the time, they are not efficient since they must convert from floating points to integers and back, and they take up valuable symbols that could be used for other purposes. They are still available, just in a longer form. <code>~</code> is still there as is. The way the bitwise operators have changed is modelled after how they are done in F#, a functional language which happens to have them unlike most functional languages. Note: the unary ^ clone operator is unchanged.
      <li><code>=></code>, the pipe operator, is now <code>|></code>. Rationale: <code>|></code> is used to signify piping elsewhere (F#), free up => (for then alias), <code>|</code> is used as an alias for case.
      <li><code><<<</code> is now <code><<</code>, and <code><<<<</code> is now <code><<<</code>. Rationale: <code><<</code> became available after the bitwise operator changes, and less typing is required with these changes.
      <li><code>|</code> is an alias for <code>case</code> (used in switch) Rationale: less typing, looks good. Modelled after Haskell's guards.
      <li><code>=></code> is an alias for <code>then</code>. Rationale: will not be encouraged for use in if statements as it looks slightly odd - really for use in switch statements, when combined with <code>|</code>, to create a succinct and easy to understand structure. Based off of Haskell's use of -> in case expressions.  
      <li>Added <code>otherwise</code> as a contextual keyword, when used after <code>case</code> or <code>|</code>, making that the default statement. Rationale: same as in Haskell. It allows <code>| otherwise => 4 + 9</code>, which fits in with the rest of the structure.
      <li>Added implicit <code>switch</code> after <code>-></code>, <code>~></code>, <code>:</code>, or an assign when they are followed by case tokens (either <code>case</code> or <code>|</code>). Rationale: reduces typing and increases beauty in a common situation for using a switch, with no increase in ambiguity. 
      <li>Added list concat operator, <code>+++</code>. Eg. <code>xs +++ ys</code> is <code>xs.concat(ys)</code>. Rationale: less typing, more beautiful, inspired by the ++ function in Haskell (had to use 3 pluses in order to avoid ambiguity with increment operator.)
      <li>Added cons operator, <code>&amp;</code>. It sticks the first item to the start of the second item (a list, or not, making a list). Eg. <code>x &amp; ys</code> is <code>[x].concat(ys)</code>. Rationale: less typing, beauty, inspired by Haskell's <code>:</code> function.
      <li><code>^</code> is now an alias to <code>**</code>, the power operator. Rationale: it was available, and is used in other languages. 
      <li>Power precedence is now proper, and the power operator has precedence over multiplication and division. It also has higher precedence than unary ops. Eg. 2*4^2 == 32, not 64 as in Coco. Also, -2^2 == -4. Rationale: math should work properly - this is how it's done in many languages including Haskell. 
      <li>Power operator is now right associative. eg. 2^2^3 == 2^(2^3) == 256. Rationale: follwing Haskell's and many other languages lead on this one.
      <li>Added new function definition syntax, eg. <code>add(x, y) = x + y</code> == <code>add = (x, y) -> x + y</code>. You can also use it in object literals and class definitions eg. <code>add(x, y): x + y</code> == <code>add: (x, y) -> x + y</code>. You can also suppress return on both by starting with a bang, eg. <code>!nothingness(params) = true</code> will not return anything. As well you can have lexically bound this using <code>id@(param) = something</code> which is suger for <code>id = (param) ~> something</code> (notice the wavy arrow) - sort of ugly though, looking for a better syntax. You can go crazy and do something like this if you wish: <code>@!func@! = something</code> which is a function assigned to this, which takes no parameters and returns nothing, while being lexically bound to this. Rationale: more beautiful, less typing, more Haskell like.
      <li>Added magic auto curried functions, defined using <code>--></code> and <code>~~></code>. With this you can do <code>times = (x, y) --> x * y</code>, <code>timesTwo = times 2</code>, <code>timesTwo 4 #=> 8</code>. To use with the new function syntax, prepend the definition with an <code>&amp;</code>, eg. <code>&amp;times(x, y) = x * y</code>. Rationale: more Haskell like, useful functionality. 
      <li>Added <code>obj ::= obj2</code> as alias to <code>obj::&lt;&lt;obj2</code>. Rationale: seems to be the intuitive behavior expected, looks cleaner.
      <li>Added <code>yes / on</code> as aliases to <code>true</code> and <code>no / off</code> as aliases to <code>false</code>. Added <code>undefined</code> as an alias to <code>void</code>, and aliased <code>isnt</code> to <code>is not</code>. Rationale: ease transition from CoffeeScript, which has all these features, to LiveScript. 
      <li>Added <code>when</code> as alias to <code>case</code> (and <code>|</code>). Rationale: ease transition from CoffeeScript. 
      <li>Allowed guards in loops using case statement, eg. <code>x for x from 1 to 10 when x % 2 is 0</code>. Rationale: ease transition from CoffeeScript and have guards in comprehensions like other languages (Haskell).
      <li>Added the use of <code>else</code> for default in switch. Rationale: ease transition from CoffeeScript.
      <li>Added <code>loop</code> as alias for <code>while true</code>. Rationale: ease transition from CoffeeScript. 
      </ul>
    </div>
  </div>
</div>

<script type="text/ls">
  console?.log 'LiveScript up'
</script>
<script src="https://raw.github.com/gkz/LiveScript/master/extras/livescript.js" async=true ></script>
</body>
</html>
